#!/bin/bash

source /arnix/bin/shared.sh
source /arnix/etc/arnix.conf

tput setaf 5
cat << splash

          :::     :::::::::  ::::    ::: ::::::::::: :::    ::: 
       :+: :+:   :+:    :+: :+:+:   :+:     :+:     :+:    :+:  
     +:+   +:+  +:+    +:+ :+:+:+  +:+     +:+      +:+  +:+    
   +#++:++#++: +#++:++#:  +#+ +:+ +#+     +#+       +#++:+      
  +#+     +#+ +#+    +#+ +#+  +#+#+#     +#+      +#+  +#+      
 #+#     #+# #+#    #+# #+#   #+#+#     #+#     #+#    #+#      
###     ### ###    ### ###    #### ########### ###    ###

            Arch Linux with generations to come

splash
tput sgr0

_option() {
    tput setaf 5
    echo -n 'arnixctl '
    tput bold
    echo -ne "$1"
    tput sgr0
    echo -n ' - '
    tput bold
    echo "$2"
    tput sgr0
}

case $1 in
    update)
        /arnix/bin/update-arnix.sh
    ;;
    create)
        /arnix/bin/create-generation.sh
    ;;
    rollback)
        /arnix/bin/rollback.sh
    ;;
    uninstall)
        /arnix/bin/revert-hijack.sh
    ;;
    *)
        _option 'help' 'this menu'
        _option 'update' "update Arnix's files"
        _option 'create' 'create a new generation'
        _option 'rollback' 'switch to a previous generation'
        _option 'uninstall' 'revert hijack'
    ;;
esac